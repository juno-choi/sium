# 인증 및 데이터 개인화 수정 계획

로그아웃 시 UI가 즉시 업데이트되지 않는 문제와, 전단지 목록이 모든 사용자에게 공유되는 보안 문제를 해결합니다.

## 제안된 변경 사항

### [컴포넌트] 인증 흐름
#### [수정] [Header.tsx](file:///c:/project/personal/2025/sium/src/components/Header.tsx)
- `handleLogout` 로직을 최적화하여 즉각적인 UI 반영을 보장합니다.
- `router.refresh()`와 `router.push("/")`를 적절히 순차적으로 활용하여 서버 세션 정보를 갱신합니다.

---

### [컴포넌트] 전단지 관리
#### [수정] [page.tsx](file:///c:/project/personal/2025/sium/src/app/flyers/page.tsx)
- Supabase 조회 쿼리에 로그인한 사용자의 ID(`user_id`) 필터를 추가합니다.
- 이를 통해 각 사용자가 자신이 만든 전단지만 보고 관리할 수 있도록 합니다.

## 검증 계획

### 수동 검증
1. **로그아웃 동기화 검증**:
    - 로그인 후 메뉴에서 '로그아웃'을 클릭합니다.
    - 수동 새로고침 없이 즉시 헤더가 '로그인' 버튼 상태로 바뀌는지 확인합니다.
2. **데이터 개인화 검증**:
    - 계정 A로 로그인하여 전단지를 생성합니다.
    - 로그아웃 후 계정 B로 로그인합니다.
    - `/flyers` 목록 페이지에서 계정 A가 만든 전단지가 보이지 않는지 확인합니다.
    - 계정 B로 새 전단지를 만들고, 본인의 것만 목록에 나오는지 확인합니다.
